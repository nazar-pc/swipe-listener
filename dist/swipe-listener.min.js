'use strict';var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},SwipeListener=function(a,b){if(a){'undefined'!=typeof window&&function(){function a(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent('CustomEvent');return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c}return'function'!=typeof window.CustomEvent&&void(a.prototype=window.Event.prototype,window.CustomEvent=a)}();b||(b={}),b=_extends({},{minHorizontal:10,minVertical:10,deltaHorizontal:3,deltaVertical:5,preventScroll:!1,lockAxis:!0},b);var c=[],d=!1,e=function(){d=!0};a.addEventListener('mousedown',e);var f=function(a){d=!1,h(a)};a.addEventListener('mouseup',f);var g=function(a){d&&(a.changedTouches=[{clientX:a.clientX,clientY:a.clientY}],i(a))};a.addEventListener('mousemove',g);var h=function(){var d=Math.abs,e=Math.max,f=Math.min;if(c.length){for(var g=[],h=[],j={top:!1,right:!1,bottom:!1,left:!1},k=0;k<c.length;k++)g.push(c[k].x),h.push(c[k].y);var i=g[0],l=g[g.length-1],m=h[0],n=h[h.length-1];if(1<c.length){var o=new CustomEvent('swiperelease',{detail:{x:[i,l],y:[m,n]}});a.dispatchEvent(o)}var p=g[0]-g[g.length-1],q='none';q=0<p?'left':'right';var r,s=f.apply(Math,g),t=e.apply(Math,g);if(d(p)>=b.minHorizontal&&('left'==q?(r=d(s-g[g.length-1]),r<=b.deltaHorizontal&&(j.left=!0)):'right'==q?(r=d(t-g[g.length-1]),r<=b.deltaHorizontal&&(j.right=!0)):void 0),p=h[0]-h[h.length-1],q='none',q=0<p?'top':'bottom',s=f.apply(Math,h),t=e.apply(Math,h),d(p)>=b.minVertical&&('top'==q?(r=d(s-h[h.length-1]),r<=b.deltaVertical&&(j.top=!0)):'bottom'==q?(r=d(t-h[h.length-1]),r<=b.deltaVertical&&(j.bottom=!0)):void 0),(c=[],j.top||j.right||j.bottom||j.left)){b.lockAxis&&((j.left||j.right)&&d(i-l)>d(m-n)?j.top=j.bottom=!1:(j.top||j.bottom)&&d(i-l)<d(m-n)&&(j.left=j.right=!1));var u=new CustomEvent('swipe',{detail:{directions:j,x:[i,l],y:[m,n]}});a.dispatchEvent(u)}else{var v=new CustomEvent('swipecancel',{detail:{x:[i,l],y:[m,n]}});a.dispatchEvent(v)}}},i=function(d){b.preventScroll&&d.preventDefault();var e=d.changedTouches[0];if(c.push({x:e.clientX,y:e.clientY}),1<c.length){var f=c[0].x,g=c[c.length-1].x,h=c[0].y,i=c[c.length-1].y,j=new CustomEvent('swiping',{detail:{x:[f,g],y:[h,i]}});a.dispatchEvent(j)}};return a.addEventListener('touchmove',i),a.addEventListener('touchend',h),{off:function(){a.removeEventListener('touchmove',i),a.removeEventListener('touchend',h),a.removeEventListener('mousedown',e),a.removeEventListener('mouseup',f),a.removeEventListener('mousemove',g)}}}};'undefined'!=typeof module&&'undefined'!=typeof module.exports?module.exports=SwipeListener:'function'==typeof define&&define.amd?define([],function(){return SwipeListener}):window.SwipeListener=SwipeListener;